{% extends "layout.html" %}
{% block content %}

{% if not doctor %}
    <div class="alert alert-danger">
        Doctor information could not be loaded.
    </div>
{% else %}

<div class="card shadow-sm">
    <div class="card-header bg-light py-3">
        <h4 class="mb-0">Doctor Profile</h4>
    </div>

    <div class="card-body p-4">
        <div class="row">
            <div class="col-md-3 text-center">
                <img
                    src="https://placehold.co/150x150/eeeeee/333333?text=Dr."
                    class="img-fluid rounded-circle mb-3"
                    alt="Doctor Avatar">
            </div>

            <div class="col-md-9">
                <h3>Dr. {{ doctor.full_name }}</h3>

                <p class="text-muted mb-1">
                    <strong>
                        {{ doctor.qualifications or 'Qualifications not provided' }}
                    </strong>
                </p>

                <p class="text-muted">
                    {{ doctor.department.name if doctor.department else 'Department not assigned' }}
                </p>

                <hr>

                <p>
                    {{ doctor.bio or
                       'This doctor has not provided a detailed bio yet.' }}
                </p>
            </div>
        </div>
    </div>

    <div class="card-footer bg-light text-end">
        <a href="{{ url_for(
                'patient.book_appointment',
                doctor_profile_id=doctor.id
            ) }}"
           class="btn btn-primary">
            Check Availability & Book
        </a>

        <a href="{{ url_for(
                'patient.department_details',
                department_id=doctor.department_id
            ) }}"
           class="btn btn-outline-secondary">
            Go Back
        </a>
    </div>
</div>

{% endif %}
{% endblock content %}
