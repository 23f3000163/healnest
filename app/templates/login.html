{% extends "layout.html" %}
{% set minimal_footer = True %}
{% block content %}

<div class="page-container" style="max-width: 460px; margin-top: 90px; margin-bottom: 60px;">

    <!-- HEADER -->
    <div class="text-center mb-4">
        <h1 style="font-family:'Playfair Display', serif;">
            HealNest
        </h1>
        <p class="page-subtitle">
            Welcome back. Please login to continue.
        </p>
    </div>

    <!-- CARD -->
    <div class="app-card auth-fade">

        <form method="POST">
            {{ form.hidden_tag() }}

            <!-- EMAIL -->
            <div class="mb-3">
                {{ form.email.label(class="form-label fw-semibold") }}
                {{ form.email(class="form-control",
                              placeholder="Enter your email",
                              autocomplete="email") }}
            </div>

            <!-- PASSWORD -->
            <div class="mb-3">
                {{ form.password.label(class="form-label fw-semibold") }}
                <div class="input-group">
                    {{ form.password(class="form-control",
                                     id="password-field",
                                     placeholder="Enter your password",
                                     autocomplete="current-password") }}
                    <button type="button"
                            class="btn btn-outline-secondary"
                            onclick="togglePassword()">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
            </div>

            <!-- REMEMBER -->
            <div class="form-check mb-3">
                {{ form.remember(class="form-check-input") }}
                {{ form.remember.label(class="form-check-label") }}
            </div>

            <!-- SUBMIT -->
            <div class="mt-3">
                <button type="submit"
                        class="btn-app btn-app-primary w-100">
                    Login
                </button>
            </div>

        </form>

        <hr>

        <div class="text-center">
            <small class="text-muted">
                Donâ€™t have an account?
                <a href="{{ url_for('main.register') }}"
                   class="fw-semibold text-decoration-none">
                    Create one
                </a>
            </small>
        </div>

    </div>

</div>

<script>
function togglePassword() {
    const field = document.getElementById("password-field");
    field.type = field.type === "password" ? "text" : "password";
}
</script>

{% endblock %}
